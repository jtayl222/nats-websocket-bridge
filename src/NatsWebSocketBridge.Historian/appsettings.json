{
  "Historian": {
    "ConnectionString": "Host=localhost;Port=5432;Database=manufacturing_history;Username=historian;Password=historian_secure_password",
    "BatchSize": 100,
    "BatchTimeoutMs": 1000,
    "WriterCount": 4,
    "EnableAuditLogging": true,
    "EnableIntegrityChecks": true
  },
  "Nats": {
    "Url": "nats://localhost:4222",
    "ClientName": "historian-service"
  },
  "JetStream": {
    "DefaultBatchSize": 100,
    "FetchTimeout": "5s",
    "AckWait": "60s",
    "MaxDeliver": 5,
    "Consumers": [
      {
        "Name": "historian-telemetry",
        "StreamName": "TELEMETRY",
        "FilterSubject": "factory.>",
        "DataType": "Telemetry",
        "Enabled": true
      },
      {
        "Name": "historian-events",
        "StreamName": "EVENTS",
        "FilterSubject": "events.>",
        "DataType": "Event",
        "Enabled": true
      },
      {
        "Name": "historian-alerts",
        "StreamName": "ALERTS",
        "FilterSubject": "alerts.>",
        "DataType": "Alert",
        "Enabled": true
      },
      {
        "Name": "historian-quality",
        "StreamName": "QUALITY",
        "FilterSubject": "quality.>",
        "DataType": "QualityInspection",
        "Enabled": true
      }
    ]
  },
  "Archival": {
    "Enabled": true,
    "S3Endpoint": "http://localhost:9000",
    "AccessKey": "minioadmin",
    "SecretKey": "minio_secure_password",
    "TelemetryBucket": "historical-telemetry",
    "EventsBucket": "historical-events",
    "BatchesBucket": "historical-batches",
    "AuditBucket": "historical-audit",
    "TelemetryArchiveAgeDays": 90,
    "EventsArchiveAgeDays": 180,
    "ArchiveIntervalHours": 24,
    "MaxRecordsPerFile": 100000,
    "DeleteAfterArchive": false
  },
  "Metrics": {
    "Port": 9091
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning",
      "System": "Warning"
    }
  }
}
